{%comment %}
async loader for youtube videos
{%endcomment%}
<div style="width:100%; overflow:hidden; padding:4px;">
  <div align="center" class="youtube-video embed-responsive embed-responsive-16by9" data-embed="{{include.embed}}" >
    <div class="play-button">
    </div>
    <script defer>
      var embed = '{{include.embed}}'
      var video = document.querySelector("[data-embed='"+embed+"']");
      // Load the image asynchronously
      var image = new Image();
      image.src =  "https://img.youtube.com/vi/"+ embed +"/hqdefault.jpg";
      image.addEventListener( "load", function() {
          video.appendChild( image );
      });

      video.addEventListener("click", function(){
        var iframe = document.createElement( "iframe" );
        iframe.className = "embed-responsive-item";
        iframe.setAttribute( "frameborder", "0" );
        iframe.setAttribute( "allowfullscreen", "" );
        iframe.setAttribute( "src", "https://www.youtube.com/embed/"+ embed +"?rel=0&showinfo=0&autoplay=1");
        video.innerHTML = "";
        video.appendChild(iframe);
      })
    </script>
  </div>
</div>
